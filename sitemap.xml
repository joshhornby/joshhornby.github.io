---
layout: null
---
<?xml version="1.0" encoding="UTF-8"?>
<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9" xmlns:xhtml="http://www.w3.org/1999/xhtml">
  {%- comment -%}
  1. Homepage: use the newest `post.sitemap.lastmod` value
  {%- endcomment -%}
  {% assign latest_post = site.posts
  | where_exp: "p", "p.sitemap and p.sitemap.lastmod"
  | sort: "sitemap.lastmod"
  | last %}
  {% assign index_time = latest_post.sitemap.lastmod %}
  <url>
    <loc>{{ site.url }}</loc>
    <lastmod>{{ index_time | date_to_xmlschema }}</lastmod>
  </url>

  <url>
    <loc>{{ site.url }}/about</loc>
  </url>

  {%- comment -%}
  2. Individual posts: front-matter `sitemap.lastmod` if present
  {%- endcomment -%}
  {% for post in site.posts %}
  <url>
    <loc>{{ site.url }}{{ post.url }}</loc>
    {% if post.sitemap and post.sitemap.lastmod %}
    <lastmod>{{ post.sitemap.lastmod | remove: " " }}</lastmod>
    {% endif %}
  </url>
  {% endfor %}

  {%- comment -%}
  3. Tags index: use the same homepage index_time
  {%- endcomment -%}
  <url>
    <loc>{{ site.url }}/tags</loc>
    <lastmod>{{ index_time | date_to_xmlschema }}</lastmod>
  </url>

  {%- comment -%}
  4. Each tagâ€™s lastmod (newest post under that tag)
  {%- endcomment -%}
  {% for tag in site.tags %}
  {% assign posts_for_tag = tag[1] %}
  {% if posts_for_tag.size > 0 %}
  {% assign last_post = posts_for_tag
  | sort: "last_modified_at"
  | last %}
  {% assign git_time = last_post.path | last_modified_at %}
  <url>
    <loc>{{ site.url }}{{ site.baseurl }}/tags/{{ tag[0] | slugify }}</loc>
    <lastmod>{{ git_time | date_to_xmlschema }}</lastmod>
  </url>
  {% endif %}
  {% endfor %}

</urlset>
